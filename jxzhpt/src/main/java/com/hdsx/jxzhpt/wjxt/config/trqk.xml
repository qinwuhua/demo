<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "/xsd/mybatis-3-mapper.dtd">
<mapper namespace="com.hdsx.jxzhpt.trqk">

	<select id="selectTrqkList" parameterType="trqk" resultType="trqk">
		select * from (
		select m.*,rownum rn from (
			select * from WJXT_TRQK
			where 1=1 
		<if test="gydw != null and  gydw != ''">
			and gydw like '%'||#{gydw}||'%'
		</if>
		<if test="tiaojian != null and  tiaojian != ''">
			and tbsj like #{tiaojian}||'%'
		</if>
		order by tbsj desc
		)  m
			where <![CDATA[rownum<=(#{page} * #{rows})]]>
		) 
			where RN>((#{page} - 1) * #{rows})
		
	</select>
	<select id="selectTrqkListCount" parameterType="trqk" resultType="int">
		select count(*) from WJXT_TRQK 
		where 1=1 
		<if test="gydw != null and  gydw != ''">
			and gydw like '%'||#{gydw}||'%'
		</if>
		<if test="tiaojian != null and  tiaojian != ''">
			and tbsj like #{tiaojian}||'%'
		</if>
	</select>
	<insert id="insertTrqk" parameterType="trqk">
		insert into WJXT_TRQK(id,gydw,qxrs,trqxjf,lq,sn,ss,bzd,gyy,lqlbl,wjj,zzj,zxqc,cstb,sbtbxj,tbdw,tjr,shry,tbsj,gydwmc,tbdwmc)
		values(sys_guid(),#{gydw},#{qxrs},#{trqxjf},#{lq},#{sn},#{ss},#{bzd},#{gyy},#{lqlbl},#{wjj},#{zzj},#{zxqc},#{cstb},#{sbtbxj},#{tbdw},#{tjr},#{shry},#{tbsj},#{gydwmc},#{tbdwmc})
	</insert>
	<insert id="insertLqpdmxb" parameterType="lkmxb">
		insert into LKPD_MXB(id,tbdw,tbnf,dwfzr,tjfzr,tjf,tbrq)
		values(#{id},#{tbdw},#{tbnf},#{dwfzr},#{tjfzr},#{tjf},#{tbrq})
	</insert>
	<insert id="insertLqpdmxbdata" parameterType="hashMap">
		insert into LKPD_MXB_DATA(id,mxb_id,lxbh,lxmc,qdzh,zdzh,qjfx,pdlc,mqi,pqi,sci,bci,tci,ydl,ldl,zdl,cdl,cadl,yllv)
		values(#{id},#{mxb_id},#{0},#{1},#{2},#{3},#{4},#{5},#{6},#{7},#{8},#{9},#{10},#{11},#{12},#{13},#{14},#{15},#{16})
	</insert>
	<select id="selectMxbList" parameterType="lkmxb" resultType="lkmxb">
		select * from LKPD_MXB where 1=1
		<if test="tbnf != null and  tbnf != ''">
			and tbnf = #{tbnf}
		</if>
		order by tbnf desc
	</select>
	<select id="getMxbDataList" parameterType="lkmxb" resultType="lkmxb">
		select * from LKPD_MXB_DATA  where mxb_id=#{id} order by to_number(id)
	</select>
	<select id="getMxbDataList1" parameterType="lkmxb" resultType="lkmxb">
		select * from LKPD_MXB where id=#{id}
	</select>
	<delete id="deletemxb" parameterType="lkmxb" >
		delete from LKPD_MXB_DATA  where mxb_id=#{id}
	</delete>
	<delete id="deletemxb1" parameterType="lkmxb" >
		delete from LKPD_MXB where id=#{id}
	</delete>
	
	<insert id="insertLktjb" parameterType="lktjb">
		insert into LKPD_TJB(id,tbdw,tbnf,dwfzr,fzr,tbr,tbrq)
		values(#{id},#{tbdw},#{tbnf},#{dwfzr},#{fzr},#{tbr},#{tbrq})
	</insert>
	<insert id="insertLktjbData" parameterType="hashMap">
		insert into LKPD_TJB_DATA(id,tjb_id,biaoti,xm,bh,hj,ydl,ldl,zdl,cdl,cadl,yllv,pdjg)
		values(#{id},#{tjb_id},#{0},#{1},#{bh},#{3},#{4},#{5},#{6},#{7},#{8},#{9},#{10})
	</insert>
	<select id="selectTjbList" parameterType="lktjb" resultType="lktjb">
		select * from LKPD_TJB where 1=1
		<if test="tbnf != null and  tbnf != ''">
			and tbnf = #{tbnf}
		</if>
		order by tbnf desc
	</select>
	<select id="getTjbDataList" parameterType="lktjb" resultType="lktjb">
		select * from LKPD_TJB_DATA  where tjb_id=#{id} order by to_number(id)
	</select>
	<select id="getTjbDataList1" parameterType="lktjb" resultType="lktjb">
		select * from LKPD_TJB where id=#{id}
	</select>
		<delete id="deletetjb" parameterType="lktjb" >
		delete from LKPD_TJB_DATA  where tjb_id=#{id}
	</delete>
	<delete id="deletetjb1" parameterType="lktjb" >
		delete from LKPD_TJB where id=#{id}
	</delete>
	
	<insert id="insertJtlhz" parameterType="jtlhz">
		insert into JTLHZ(id,tbdw,tbnf,dwfzr,tjfzr,tbr,lxdh,bcrq)
		values(#{id},#{tbdw},#{tbnf},#{dwfzr},#{tjfzr},#{tbr},#{lxdh},#{bcrq})
	</insert>
	<insert id="insertJtlhzdata" parameterType="hashMap">
		insert into JTLHZ_DATA(id,hzb_id,gljgmc,gljgbh,hj,sj,dsj,xxj,hxj,hgd,hsd,hqt,lxj,lgd,lsd,lqt,jxj,jgd,jsd,jqt,bxj,bgd,bsd,bqt,cxj,cgd,csd,cqt,gcry,gcjl,njf)
		values(#{id},#{hzb_id},#{0},#{1},#{3},#{4},#{5},#{6},#{7},#{8},#{9},#{11},#{12},#{13},#{14},#{15},#{16},#{17},#{18},#{20},#{21},#{22},#{23},#{25},#{26},#{27},#{28},#{29},#{31},#{33},#{34})
	</insert>
	<select id="selectJtlList" parameterType="jtlhz" resultType="jtlhz">
		select * from JTLHZ where 1=1
		<if test="tbnf != null and  tbnf != ''">
			and tbnf = #{tbnf}
		</if>
		order by tbnf desc
	</select>
	<select id="getJtlDataList" parameterType="jtlhz" resultType="jtlhz">
		select * from JTLHZ_DATA  where hzb_id=#{id} order by to_number(id)
	</select>
	<select id="getJtlDataList1" parameterType="jtlhz" resultType="jtlhz">
		select * from JTLHZ where id=#{id}
	</select>
	<delete id="deletejtl" parameterType="jtlhz" >
		delete from JTLHZ_DATA  where hzb_id=#{id}
	</delete>
	<delete id="deletejtl1" parameterType="jtlhz" >
		delete from JTLHZ where id=#{id}
	</delete>
	
	<insert id="insertJtlhzgd" parameterType="jtlhzgd">
		insert into JTLHZGD(id,tbdw,tbnf,dwfzr,tjfzr,tbr,lxdh,rq)
		values(#{id},#{tbdw},#{tbnf},#{dwfzr},#{tjfzr},#{tbr},#{lxdh},#{rq})
	</insert>
	<insert id="insertJtlhzgddata" parameterType="hashMap">
		insert into JTLHZGD_DATA(id,hzb_id,lxbh,lxmc,gclc,jdls,jzrs,qdls,qzrs,xhc,zhc,dhc,thc,jzxc,zxkc,dkc,mtc,tdls,tzrs,xsl,jtl,yjd)
		values(#{id},#{hzb_id},#{0},#{1},#{2},#{3},#{4},#{5},#{6},#{7},#{8},#{9},#{10},#{11},#{12},#{13},#{14},#{15},#{16},#{17},#{18},#{19})
	</insert>
	<select id="selectJtlgdList" parameterType="jtlhzgd" resultType="jtlhzgd">
		select * from JTLHZGD where 1=1
		<if test="tbnf != null and  tbnf != ''">
			and tbnf = #{tbnf}
		</if>
		order by tbnf desc
	</select>
	<select id="getJtlgdDataList" parameterType="jtlhzgd" resultType="jtlhzgd">
		select * from JTLHZGD_DATA  where hzb_id=#{id} order by to_number(id)
	</select>
	<select id="getJtlgdDataList1" parameterType="jtlhzgd" resultType="jtlhzgd">
		select * from JTLHZGD where id=#{id}
	</select>
	<delete id="deletejtlgd" parameterType="jtlhzgd" >
		delete from JTLHZGD_DATA  where hzb_id=#{id}
	</delete>
	<delete id="deletejtlgd1" parameterType="jtlhzgd" >
		delete from JTLHZGD where id=#{id}
	</delete>
	
	<insert id="insertJtlhzsd" parameterType="jtlhzgd">
		insert into JTLHZSD(id,tbdw,tbnf,dwfzr,tjfzr,tbr,lxdh,rq)
		values(#{id},#{tbdw},#{tbnf},#{dwfzr},#{tjfzr},#{tbr},#{lxdh},#{rq})
	</insert>
	<insert id="insertJtlhzsddata" parameterType="hashMap">
		insert into JTLHZSD_DATA(id,hzb_id,lxbh,lxmc,gclc,jdls,jzrs,qdls,qzrs,xhc,zhc,dhc,thc,jzxc,zxkc,dkc,mtc,tdls,tzrs,xsl,jtl,yjd)
		values(#{id},#{hzb_id},#{0},#{1},#{2},#{3},#{4},#{5},#{6},#{7},#{8},#{9},#{10},#{11},#{12},#{13},#{14},#{15},#{16},#{17},#{18},#{19})
	</insert>
	<select id="selectJtlsdList" parameterType="jtlhzgd" resultType="jtlhzgd">
		select * from JTLHZSD where 1=1
		<if test="tbnf != null and  tbnf != ''">
			and tbnf = #{tbnf}
		</if>
		order by tbnf desc
	</select>
	<select id="getJtlsdDataList" parameterType="jtlhzgd" resultType="jtlhzgd">
		select * from JTLHZSD_DATA  where hzb_id=#{id} order by to_number(id)
	</select>
	<select id="getJtlsdDataList1" parameterType="jtlhzgd" resultType="jtlhzgd">
		select * from JTLHZSD where id=#{id}
	</select>
	<delete id="deletejtlsd" parameterType="jtlhzgd" >
		delete from JTLHZSD_DATA  where hzb_id=#{id}
	</delete>
	<delete id="deletejtlsd1" parameterType="jtlhzgd" >
		delete from JTLHZSD where id=#{id}
	</delete>
	<update id="updateTrqk" parameterType="trqk">
		update WJXT_TRQK set
		gydw=#{gydw},qxrs=#{qxrs},trqxjf=#{trqxjf},lq=#{lq},sn=#{sn},ss=#{ss},bzd=#{bzd},gyy=#{gyy},lqlbl=#{lqlbl},wjj=#{wjj},zzj=#{zzj},zxqc=#{zxqc},cstb=#{cstb},sbtbxj=#{sbtbxj},tbdw=#{tbdw},tjr=#{tjr},shry=#{shry},tbsj=#{tbsj},gydwmc=#{gydwmc},tbdwmc=#{tbdwmc}
		where id=#{id}
	</update>
	<delete id="deletetrqk" parameterType="trqk">
	delete from WJXT_TRQK where id=#{id}
	</delete>
</mapper>